{% extends "withoutnav_template.html" %}
{% from "components/textbox.html" import textbox %}
{% from "components/govuk-page-header.html" import govuk_page_header %}
{% from "components/page-footer.html" import sticky_page_footer %}
{% from "components/form.html" import form_wrapper %}
{% from "govuk_frontend_jinja/components/back-link/macro.html" import govukBackLink %}
{% from "govuk_frontend_jinja/components/inset-text/macro.html" import govukInsetText %}

{% block per_page_title %}
  {{ page_title }}
{% endblock %}

{% block backLink %}
  {{ govukBackLink({ "href": back_link }) }}
{% endblock %}

{% block maincolumn_content %}

{{ govuk_page_header(page_title) }}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        {% if show_status_page_banner %}
          {% set insetHtml %}
          Check our <a class="govuk-link govuk-link--no-visited-state" href="https://status.notifications.service.gov.uk">
            system status</a>
          page to see if there are any known issues with GOV.UK Notify.
          {% endset %}
          {{ govukInsetText({"html": insetHtml, classes: "govuk-!-margin-top-0 govuk-!-margin-bottom-3"}) }}
        {% endif %}
        {% call form_wrapper() %}
            {{ textbox(form.feedback, width='1-1', hint='', rows=10, autosize=True) }}
            {% if not current_user.is_authenticated %}
              {{ form.name(param_extensions={"classes": "govuk-!-width-full"}) }}
              {{ form.email_address(param_extensions={"classes": "govuk-!-width-full"}) }}
            {% else %}
              <p class="govuk-body">Weâ€™ll reply to {{ current_user.email_address }}</p>
            {% endif %}
            {{ sticky_page_footer('Send') }}
        {% endcall %}
      </div>
    </div>

{% endblock %}
